<!DOCTYPE html>
<html>
<head>

    <meta name="viewport" content="height=device-height, initial-scale=1.0"/>
    <style type="text/stylesheet">
        @-webkit-viewport   { height: device-height; }
        @-moz-viewport      { height: device-height; }
        @-ms-viewport       { height: device-height; }
        @-o-viewport        { height: device-height; }
        @viewport           { height: device-height; }
    </style>

    <meta charset="UTF-8">
    <!-- this line removes any default padding and style. you might only need one of these values set. -->
    <link rel="stylesheet" type="text/css" href="../assets/css/breathe.css">

    <script language="javascript" type="text/javascript" src="../js/p5/p5.js"></script>
    <script language="javascript" type="text/javascript" src="../js/p5/addons/p5.dom.js"></script>
    <script language="javascript" type="text/javascript" src="../js/p5/addons/p5.sound.js"></script>

    <script type="text/javascript" src="../js/common/loader_support.js"></script>

</head>
<body>
<div id="messageDiv"></div>
<div id="mainDiv"></div>

<script>

    const defaultLanguageDefinition = "en_BZ";

    const languageMappings = {
        "en": defaultLanguageDefinition,
        "pt": "pt_BZ",
        "hi": "hi_IN",
        "hi_IN": "hi_IN"
    };

    const languageFile = loaderSupport.loadLanguageFromParameter(languageMappings, defaultLanguageDefinition);

    const loadScriptPromise = loaderSupport.loadScriptPromise;

    loadScriptPromise("../js/breathe/" + languageFile + ".js")
        .then(() => loadScriptPromise("../js/breathe/gradients.js"))
        .then(() => loadScriptPromise("../js/breathe/breatheBall.js"))
        .then(() => loadScriptPromise("../js/breathe/breatheCalculations.js"))
        .then(() => loadScriptPromise("../js/breathe/progress.js"))
        .then(() => loadScriptPromise("../js/breathe/buttonBar.js"))
        .then(() => loadScriptPromise("../js/breathe/soundPlayer.js"))
        .then(() => loadScriptPromise("../js/breathe/counter.js"))
        .then(() => loadScriptPromise("../js/breathe/breatheText.js"))
        .then(() => loadScriptPromise("../js/breathe/multiCircles.js"))
        .then(() => loadScriptPromise("../js/breathe/breathPause.js"))
        .then(() => loadScriptPromise("../js/common/sprite.js"))
        .then(() => loadScriptPromise("../js/jquery/jquery-3.2.1.min.js"))
        .then(() => loadScriptPromise("../js/breathe/sketch.js"))
        .then(() => console.log('Loaded all'))
</script>

</body>
</html>